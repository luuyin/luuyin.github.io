/* === Custom: paper labels & links === */
:root { --accent: var(--global-theme-color, #159957); }

/* 论文标题链接：柔和下划线 */
.paper-link {
  font-weight: 600;
  text-decoration: underline;
  text-decoration-thickness: .12em;
  text-underline-offset: .18em;
  text-decoration-color: rgba(21,153,87,.35);
}
.paper-link:hover { text-decoration-color: var(--accent); }

/* =========================================================
   Badges (outline+soft-fill): premium minimal + better funding/activity
   保留：边框 + 淡底色（背景有颜色）
   变化：文字统一黑色
   ========================================================= */

/* 统一色彩变量（每类只要设 --c 即可） */
.badge, .badge--fill, .badge-flag { --c: 21,153,87; }
.badge, .badge--fill, .badge-flag { margin-right: .45rem; vertical-align: middle; }

/* 统一外观：淡底色 + 半透明彩色边框（高级简约） */
.badge,
.badge--fill,
.badge-flag{
  display: inline-flex;
  align-items: center;
  padding: .22rem .62rem;
  border-radius: 999px;

  font-weight: 600;
  font-size: .86em;
  letter-spacing: .02em;
  line-height: 1;

  color: rgba(17,17,17,.86);          /* ✅ 文字统一黑色 */
  background: rgba(var(--c), .08);     /* ✅ 背景保留淡色 */
  border: 1px solid rgba(var(--c), .22);/* ✅ 边框保留同色系 */

  box-shadow: none;
  text-decoration: none;
}

/* ONLY uppercase the legend pills (Publication / activity / Funding) */
.news-legend .badge,
.news-legend .badge--fill,
.news-legend .badge-flag{
  text-transform: uppercase;
}

/* hover：轻微反馈（保持同风格） */
.badge:hover,
.badge--fill:hover,
.badge-flag:hover{
  background: rgba(var(--c), .12);
  border-color: rgba(var(--c), .32);
}

/* 去掉旧版 dot / 竖条装饰（防止残留） */
.badge::before,
.badge--fill::before,
.badge-flag::before{
  content: none !important;
}

/* —— 分类颜色映射（更耐看） —— */
/* publication：稳重绿 */
.badge[data-conf="publication"],
.badge--fill[data-conf="publication"],
.badge-flag[data-conf="publication"] { --c: 19,138,78; }   /* #138A4E */

/* funding：深青 teal */
.badge[data-conf="grant"],
.badge--fill[data-conf="grant"],
.badge-flag[data-conf="grant"]   { --c: 0,0,0; }      /* #0E7490 */

/* activity：琥珀 amber */
.badge[data-conf="activity"],
.badge--fill[data-conf="activity"],
.badge-flag[data-conf="activity"] { --c: 180,83,9; }   /* #B45309 */
// .badge-flag[data-conf="activity"]  { --c: 0,116,266; }    /* #B45309 */

/* —— News legend：小一点，更精致 —— */
.news-legend .badge,
.news-legend .badge--fill,
.news-legend .badge-flag{
  font-size: .82em;
  padding: .18rem .55rem;
}

/* —— Publications：同一套 badge（文字黑 + 淡底色 + 彩色边框） —— */
.selected-publications .badge,
.publications .badge,
ol.bibliography .badge{
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;   /* ✅ 新增：让 pill 内文字水平居中 */
  text-align: center !important;        /* ✅ 新增：防止多行时偏左 */
  padding: .22rem .62rem !important;
  border-radius: 999px !important;

  font-weight: 600 !important;
  font-size: .82em !important;
  letter-spacing: .02em !important;

  color: rgba(17,17,17,.86) !important;          /* ✅ 文字黑 */
  background: rgba(var(--c), .08) !important;    /* ✅ 背景淡色 */
  border: 1px solid rgba(var(--c), .22) !important;/* ✅ 彩色边框 */

  box-shadow: none !important;
}
.selected-publications .badge::before,
.publications .badge::before,
ol.bibliography .badge::before{
  content: none !important;
}
/* 若某条目 abbr 为空，则隐藏空徽章，避免留空框 */
.selected-publications .badge:empty,
.publications .badge:empty,
ol.bibliography .badge:empty { display: none !important; }

/* 深色系统下：只让 hover 底色稍微明显一点（其它不动） */
@media (prefers-color-scheme: dark){
  .badge:hover,
  .badge--fill:hover,
  .badge-flag:hover{
    background: rgba(var(--c), .10);
  }
}

/* =========================================================
   （下面保持你原样：news header / news scroll / mobile fix 等）
   ========================================================= */

/* —— News 标题 + Legend：竖排、左对齐，与标题留出空隙 —— */
.news-header{
  display:flex; flex-direction:column; align-items:flex-start;
  gap:.4rem; margin:.25rem 0 .9rem;
}
.news-title{ margin:0; }
.news-legend{
  display:flex; gap:.55rem; flex-wrap:wrap;
  margin-top:.6rem; justify-content:flex-start;
}

/* === News 可滚动容器（美观版） === */
.news-scroll{
  /* 高度可通过行内变量覆盖：style="--news-height: 420px" */
  --news-height: 420px;
  max-height: var(--news-height);
  overflow: auto;
  scrollbar-gutter: stable both-edges;     /* 避免滚动条出现时跳动（Chrome 等） */
  padding: .25rem .35rem .25rem .25rem;    /* 预留一点右侧空间给滚动条 */
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  background: #fff;
  position: relative;
}

/* 顶/底部渐隐提示（更优雅地提示可滚动） */
.news-scroll::before,
.news-scroll::after{
  content: "";
  position: sticky;
  left: 0; right: 0;
  height: 14px;
  pointer-events: none;
  z-index: 1;
}
.news-scroll::before{
  top: 0;
  background: linear-gradient(to bottom, #fff, rgba(255,255,255,0));
}
.news-scroll::after{
  bottom: 0;
  background: linear-gradient(to top, #fff, rgba(255,255,255,0));
}

/* 自定义滚动条（WebKit） */
.news-scroll::-webkit-scrollbar{
  width: 10px;
}
.news-scroll::-webkit-scrollbar-track{
  background: transparent;
}
.news-scroll::-webkit-scrollbar-thumb{
  background-clip: padding-box;
  border: 3px solid transparent;           /* 形成与轨道的留白 */
  border-radius: 8px;
  background-color: rgba(21,153,87,.45);   /* 绿：与你站点的 accent 协调 */
}
.news-scroll:hover::-webkit-scrollbar-thumb{
  background-color: rgba(21,153,87,.60);
}
.news-scroll::-webkit-scrollbar-thumb:active{
  background-color: rgba(21,153,87,.75);
}

/* FireFox 滚动条颜色 */
.news-scroll{
  scrollbar-width: thin;
  scrollbar-color: rgba(21,153,87,.55) transparent;
}

/* 移动端高度优化（更占屏一点） */
@media (max-width: 576px){
  .news-scroll{ max-height: 55vh; }
}

/* === 让 News 框更高（桌面端） === */
.news-scroll { 
  height: 800px !important;   /* 想更高就改成 680/720px */
  max-height: none !important; /* 取消之前的 max-height 限制 */
}

/* 小屏高度（可选） */
@media (max-width: 576px){
  .news-scroll { height: 60vh !important; }  /* 保持移动端更灵活 */
}

/* 关闭 News 标题在 hover 时的下划线/描边/阴影 */
.news-title,
.news-title:hover,
.news-title:focus,
.news-header h2,
.news-header h2:hover,
.news-header h2:focus {
  text-decoration: none !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
}

/* 如果标题里被包了锚点链接，也一并去掉它的下划线 */
.news-title a,
.news-title a:hover,
.news-title a:focus {
  color: inherit !important;
  text-decoration: none !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
}

/* ===== Fix: About page profile image too large on mobile ===== */
@media (max-width: 576px) {

  /* 让右侧 profile 在手机上居中且不要占太宽 */
  .post .profile{
    float: none !important;
    width: 100% !important;
    max-width: 320px;              /* 想更小就改 260/280 */
    margin: 0 auto 1.25rem !important;
    text-align: center;
  }

  /* 关键：限制高度，避免“纵向长图”在手机上变成巨幅 */
  .post .profile img{
    display: inline-block;
    width: auto !important;
    height: auto !important;
    max-width: 100% !important;
    max-height: 360px;             /* 想更矮就改 280/320 */
    object-fit: contain;
  }

  /* 你的 HTML 里是 <picture>，加一层保险 */
  .post .profile picture{
    display: block;
  }
}
