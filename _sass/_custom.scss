/* === Custom: paper labels & links === */
:root { --accent: var(--global-theme-color, #159957); }

/* 论文标题链接：柔和下划线 */
.paper-link {
  font-weight: 600;
  text-decoration: underline;
  text-decoration-thickness: .12em;
  text-underline-offset: .18em;
  text-decoration-color: rgba(21,153,87,.35);
}
.paper-link:hover { text-decoration-color: var(--accent); }

/* —— 徽章通用：默认主色 + 间距 —— */
.badge, .badge--fill, .badge-flag { --c: 21,153,87; }
.badge, .badge--fill, .badge-flag { margin-right:.45rem; vertical-align:baseline; }

/* 方案 1｜现代渐变描边 */
.badge{
  display:inline-flex; align-items:center; gap:.45em;
  padding:.26rem .72rem .28rem; border-radius:999px;
  font-weight:650; font-size:.9em; letter-spacing:.2px; line-height:1;
  color: rgb(var(--c));
  background:
    linear-gradient(#fff,#fff) padding-box,
    linear-gradient(135deg, rgba(var(--c),.55), rgba(var(--c),.18)) border-box;
  border:1px solid transparent;
  box-shadow: 0 1px 2px rgba(0,0,0,.06), 0 6px 16px rgba(var(--c),.12);
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
}
.badge::before{
  content:""; width:.5em; height:.5em; border-radius:50%;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.9) 0 45%, transparent 46% 100%),
    rgb(var(--c));
  box-shadow: 0 0 0 3px rgba(var(--c),.14);
}
.badge:hover{ transform: translateY(-1px); box-shadow: 0 2px 10px rgba(var(--c),.22), 0 1px 2px rgba(0,0,0,.06); }
@media (prefers-color-scheme: dark){
  .badge{
    color: #9be7c4;
    background:
      linear-gradient(#0f1114,#0f1114) padding-box,
      linear-gradient(135deg, rgba(var(--c),.55), rgba(var(--c),.25)) border-box;
    box-shadow: 0 0 0 1px rgba(255,255,255,.04) inset, 0 4px 14px rgba(0,0,0,.35);
  }
  .badge::before{ box-shadow: 0 0 0 3px rgba(var(--c),.22); }
}

/* 方案 2｜实心柔光胶囊 */
.badge--fill{
  display:inline-flex; align-items:center; gap:.45em;
  padding:.26rem .72rem .28rem; border-radius:999px;
  font-weight:650; font-size:.9em; letter-spacing:.2px; line-height:1;
  color:#0b3d2c;
  background: linear-gradient(180deg, rgba(var(--c),.16), rgba(var(--c),.10));
  border:1px solid rgba(var(--c),.28);
  box-shadow: 0 2px 8px rgba(var(--c),.14) inset, 0 1px 2px rgba(0,0,0,.06);
}
.badge--fill::before{
  content:""; width:.5em; height:.5em; border-radius:50%;
  background: rgb(var(--c));
  box-shadow: 0 0 0 3px rgba(var(--c),.18);
}

/* 方案 3｜旗标式条形（用于 News legend & 出版物列表统一风格） */
.badge-flag{
  position:relative; display:inline-block;
  padding:.2rem .6rem .22rem .9rem;
  border-radius:10px; font-weight:700; font-size:.9em; letter-spacing:.3px;
  border:1px solid rgba(var(--c),.28);
  background:#fff; color:#0f172a;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
}
.badge-flag::before{
  content:""; position:absolute; left:.35rem; top:50%; transform:translateY(-50%);
  width:.42rem; height:1.05em; border-radius:2px;
  background: linear-gradient(180deg, rgba(var(--c),.9), rgba(var(--c),.55));
}
@media (prefers-color-scheme: dark){
  .badge-flag{ background:#0f1114; color:#e6edf3; }
}

/* —— 分类颜色映射 —— */
.badge[data-conf="publication"],
.badge--fill[data-conf="publication"],
.badge-flag[data-conf="publication"] { --c: 19,138,78; }   /* #138A4E - 保持原绿色 */

.badge[data-conf="funding"],
.badge--fill[data-conf="funding"],
.badge-flag[data-conf="funding"]  { --c: 14,165,233; }     /* #2C828D - 青绿色 */

.badge[data-conf="activity"],
.badge--fill[data-conf="activity"],
.badge-flag[data-conf="activity"]  { --c: 55,65,81; }      /* #C17B37 - 琥珀色 */

/* —— News 标题 + Legend：竖排、左对齐，与标题留出空隙 —— */
.news-header{
  display:flex; flex-direction:column; align-items:flex-start;
  gap:.4rem; margin:.25rem 0 .9rem;
}
.news-title{ margin:0; }
.news-legend{
  display:flex; gap:.55rem; flex-wrap:wrap;
  margin-top:.6rem; justify-content:flex-start;
}
.news-legend .badge-flag{ font-size:.82em; padding:.18rem .55rem .2rem .85rem; }

/* —— Selected Publications：把左侧 ICML/AAAI… 改成与 News 一致的旗标式 —— */
/* 下面这些选择器覆盖不同版本主题可能使用的容器命名 */
.selected-publications .badge,
.publications .badge,
ol.bibliography .badge {
  position: relative !important;
  display: inline-block !important;
  padding: .18rem .60rem .20rem .90rem !important;  /* 留出左侧竖条 */
  border-radius: 10px !important;
  font-weight: 700 !important;
  font-size: .80em !important;
  letter-spacing: .3px !important;
  background: #fff !important;
  color: #0f172a !important;        /* 深灰文字，白底清晰 */
  border: 1px solid rgba(var(--c), .28) !important;
  box-shadow: 0 1px 2px rgba(0,0,0,.06) !important;
}
.selected-publications .badge::before,
.publications .badge::before,
ol.bibliography .badge::before {
  content: "" !important;
  position: absolute !important;
  left: .35rem; top: 50%; transform: translateY(-50%);
  width: .42rem; height: 1.05em; border-radius: 2px;
  background: linear-gradient(180deg, rgba(var(--c), .9), rgba(var(--c), .55)) !important;
  box-shadow: none !important;
}
/* 若某条目 abbr 为空，则隐藏空徽章，避免留空框 */
.selected-publications .badge:empty,
.publications .badge:empty,
ol.bibliography .badge:empty { display: none !important; }

/* 深色模式下，出版物标签的底色与文本也适配 */
@media (prefers-color-scheme: dark){
  .selected-publications .badge,
  .publications .badge,
  ol.bibliography .badge {
    background:#0f1114 !important;
    color:#e6edf3 !important;
    border-color: rgba(var(--c), .35) !important;
  }
}


/* === News 可滚动容器（美观版） === */
.news-scroll{
  /* 高度可通过行内变量覆盖：style="--news-height: 420px" */
  --news-height: 420px;
  max-height: var(--news-height);
  overflow: auto;
  scrollbar-gutter: stable both-edges;     /* 避免滚动条出现时跳动（Chrome 等） */
  padding: .25rem .35rem .25rem .25rem;    /* 预留一点右侧空间给滚动条 */
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  background: #fff;
  position: relative;
}

/* 顶/底部渐隐提示（更优雅地提示可滚动） */
.news-scroll::before,
.news-scroll::after{
  content: "";
  position: sticky;
  left: 0; right: 0;
  height: 14px;
  pointer-events: none;
  z-index: 1;
}
.news-scroll::before{
  top: 0;
  background: linear-gradient(to bottom, #fff, rgba(255,255,255,0));
}
.news-scroll::after{
  bottom: 0;
  background: linear-gradient(to top, #fff, rgba(255,255,255,0));
}

/* 自定义滚动条（WebKit） */
.news-scroll::-webkit-scrollbar{
  width: 10px;
}
.news-scroll::-webkit-scrollbar-track{
  background: transparent;
}
.news-scroll::-webkit-scrollbar-thumb{
  background-clip: padding-box;
  border: 3px solid transparent;           /* 形成与轨道的留白 */
  border-radius: 8px;
  background-color: rgba(21,153,87,.45);   /* 绿：与你站点的 accent 协调 */
}
.news-scroll:hover::-webkit-scrollbar-thumb{
  background-color: rgba(21,153,87,.60);
}
.news-scroll::-webkit-scrollbar-thumb:active{
  background-color: rgba(21,153,87,.75);
}

/* FireFox 滚动条颜色 */
.news-scroll{
  scrollbar-width: thin;
  scrollbar-color: rgba(21,153,87,.55) transparent;
}

/* 移动端高度优化（更占屏一点） */
@media (max-width: 576px){
  .news-scroll{ max-height: 55vh; }
}

/* 深色模式适配 */
@media (prefers-color-scheme: dark){
  .news-scroll{
    background: #0f1114;
    border-color: rgba(255,255,255,.08);
  }
  .news-scroll::before{
    background: linear-gradient(to bottom, #0f1114, rgba(15,17,20,0));
  }
  .news-scroll::after{
    background: linear-gradient(to top, #0f1114, rgba(15,17,20,0));
  }
  .news-scroll{
    scrollbar-color: rgba(21,153,87,.55) transparent;
  }
}



/* === 让 News 框更高（桌面端） === */
.news-scroll { 
  height: 800px !important;   /* 想更高就改成 680/720px */
  max-height: none !important; /* 取消之前的 max-height 限制 */
}

/* 小屏高度（可选） */
@media (max-width: 576px){
  .news-scroll { height: 60vh !important; }  /* 保持移动端更灵活 */
}



/* 关闭 News 标题在 hover 时的下划线/描边/阴影 */
.news-title,
.news-title:hover,
.news-title:focus,
.news-header h2,
.news-header h2:hover,
.news-header h2:focus {
  text-decoration: none !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
}

/* 如果标题里被包了锚点链接，也一并去掉它的下划线 */
.news-title a,
.news-title a:hover,
.news-title a:focus {
  color: inherit !important;
  text-decoration: none !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
}
